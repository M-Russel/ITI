/*
 * STEPPER_prog.c
 *
 *  Created on: Feb 6, 2017
 *      Author: root
 */

#include "std_types.h"
#include "utils.h"
#include "DIO_Interface.h"
#include "STEPPER_interface.h"

#define INITIAL_LOOP_COUNTER 0
#define MAXIMUM_LOOP_COUNTER 4
#define COIL_ONE_LEFT 16 //blue
#define COIL_ONE_RIGHT 17 //pink
#define COIL_TWO_LEFT 18 //yellow
#define COIL_TWO_RIGHT 19 //orange

u8 STEPPER_u8Init()
{
DIO_u8Initialize();
STEPPER_u8SetRotateDirectionClockWise();

}
u8 STEPPER_u8SetRotateDirectionClockWise(void)
{
u8 Local_u8Counter=0;

for (Local_u8Counter=0; Local_u8Counter<4;Local_u8Counter++)
{
	STEPPER_u8ConvertValue(COIL_ONE_LEFT,DIO_LOW%Local_u8Counter);
	STEPPER_u8ConvertValue(COIL_ONE_RIGHT,DIO_LOW%Local_u8Counter);
	STEPPER_u8ConvertValue(COIL_TWO_LEFT,DIO_LOW%Local_u8Counter);
	STEPPER_u8ConvertValue(COIL_TWO_RIGHT,DIO_LOW%Local_u8Counter);
}


}
u8 STEPPER_u8SetRotateDirectionCounterClockWise(void)
{

	u8 Local_u8Counter=0;

	for (Local_u8Counter=0; Local_u8Counter<4;Local_u8Counter++)
	{

		STEPPER_u8ConvertValue(COIL_TWO_RIGHT,DIO_LOW%Local_u8Counter);
		STEPPER_u8ConvertValue(COIL_TWO_LEFT,DIO_LOW%Local_u8Counter);
		STEPPER_u8ConvertValue(COIL_ONE_RIGHT,DIO_LOW%Local_u8Counter);
		STEPPER_u8ConvertValue(COIL_ONE_LEFT,DIO_LOW%Local_u8Counter);
	}

}

u8 STEPPER_u8ConvertValue (u8 Copy_u8PinNumber,u8 Copy_u8Value)
{
if (Copy_u8Value == 0)
{
	DIO_u8SetPinValue(Copy_u8PinNumber,DIO_LOW);
}
else if (Copy_u8Value > 0)
{
	DIO_u8SetPinValue(Copy_u8PinNumber,DIO_HIGH);

}



return 0;
}
